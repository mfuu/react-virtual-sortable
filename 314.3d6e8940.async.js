(self.webpackChunkreact_virtual_sortable=self.webpackChunkreact_virtual_sortable||[]).push([[314],{78314:function(Kt,J,D){"use strict";D.r(J),D.d(J,{default:function(){return y}});var xt=D(9783),K=D.n(xt),ct=D(19632),et=D.n(ct),Et=D(97857),N=D.n(Et),zt=D(5574),_=D.n(zt),b=D(67294),pt=D(12444),X=D.n(pt),ut=D(72004),gt=D.n(ut),It=D(26867),$=D.n(It);function mt(l,a){var e,i=function(){for(var c=this,p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];e||(a<=0?l.apply(this,v):e=setTimeout(function(){e=null,l.apply(c,v)},a))};return i.cancel=function(){e&&(clearTimeout(e),e=null)},i}function St(l,a){var e=mt(l,a),i=function(){e.cancel();for(var c=arguments.length,p=new Array(c),v=0;v<c;v++)p[v]=arguments[v];e.apply(this,p)};return i.cancel=function(){e.cancel()},i}function Q(l,a){return l===0&&a===0?1/l===1/a:Number.isNaN(l)&&Number.isNaN(a)?!0:l==a}function st(l,a){return(Array.isArray(a)?a:a.replace(/\[/g,".").replace(/\]/g,".").split(".")).reduce(function(e,i){return(e||{})[i]},l)}function E(l){return l instanceof Document&&l.nodeType===9||l instanceof Window}var Ct=function(){function l(a){X()(this,l),K()(this,"sizes",void 0),K()(this,"range",void 0),K()(this,"offset",void 0),K()(this,"buffer",void 0),K()(this,"options",void 0),K()(this,"scrollEl",void 0),K()(this,"direction",void 0),K()(this,"sizeType",void 0),K()(this,"fixedSize",void 0),K()(this,"averageSize",void 0),K()(this,"onScroll",void 0),this.options=a;var e={size:0,keeps:0,buffer:0,wrapper:null,scroller:null,direction:"vertical",uniqueKeys:[],debounceTime:null,throttleTime:null};for(var i in e)!(i in this.options)&&(this.options[i]=e[i]);this.option("buffer",a.buffer),this.sizes=new Map,this.sizeType="INIT",this.fixedSize=0,this.averageSize=0,this.range={start:0,end:0,front:0,behind:0},this.offset=0,this.direction="STATIONARY",this.updateScrollElement(),this.updateOnScrollFunction(),this.addScrollEventListener(),this.checkIfUpdate(0,a.keeps-1)}return gt()(l,[{key:"isFixed",value:function(){return this.sizeType==="FIXED"}},{key:"isFront",value:function(){return this.direction==="FRONT"}},{key:"isBehind",value:function(){return this.direction==="BEHIND"}},{key:"isHorizontal",value:function(){return this.options.direction==="horizontal"}},{key:"getSize",value:function(e){return this.sizes.get(e)||this.getItemSize()}},{key:"getOffset",value:function(){var e=this.isHorizontal()?"scrollLeft":"scrollTop";return this.scrollEl[e]}},{key:"getScrollSize",value:function(){var e=this.isHorizontal()?"scrollWidth":"scrollHeight";return this.scrollEl[e]}},{key:"getClientSize",value:function(){var e=this.isHorizontal()?"offsetWidth":"offsetHeight";return this.scrollEl[e]}},{key:"scrollToOffset",value:function(e){var i=this.isHorizontal()?"scrollLeft":"scrollTop";this.scrollEl[i]=e}},{key:"scrollToIndex",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top";if(e>=this.options.uniqueKeys.length-1){this.scrollToBottom();return}if(e<0){this.scrollToOffset(0);return}var s=this.getOffset(),c=this.getClientSize(),p=this.getSize(this.options.uniqueKeys[e]),v=this.getOffsetByRange(0,e)+this.getScrollStartOffset(),m=v+p,M=s,F=s+c;if(i==="auto"){if(v>=M&&m<=F)return;i=v<M?"top":"bottom"}if(i==="top")this.scrollToOffset(v);else if(i==="bottom"){var U=Math.max(0,m-c);this.scrollToOffset(U)}}},{key:"scrollToBottom",value:function(){var e=this,i=this.getScrollSize();this.scrollToOffset(i),setTimeout(function(){e.isReachedBottom()||e.scrollToBottom()},5)}},{key:"isReachedBottom",value:function(){return this.getOffset()+this.getClientSize()+1>=this.getScrollSize()}},{key:"option",value:function(e,i){var s=this,c=this.options[e];this.options[e]=i,e==="buffer"&&(i==null?this.buffer=Math.round(this.options.keeps/3):this.buffer=i),e==="uniqueKeys"&&this.sizes.forEach(function(p,v){i.includes(v)||s.sizes.delete(v)}),e==="scroller"&&(c&&$().utils.off(c,"scroll",this.onScroll),this.updateScrollElement(),this.addScrollEventListener())}},{key:"updateRange",value:function(e){if(e){this.handleUpdate(e.start);return}var i=this.range.start;i=Math.max(i,0),this.handleUpdate(i)}},{key:"updateItemSize",value:function(e,i){!i||this.sizes.get(e)===i||(this.sizes.set(e,i),this.sizeType==="INIT"?(this.sizeType="FIXED",this.fixedSize=i):this.isFixed()&&this.fixedSize!==i&&(this.sizeType="DYNAMIC",this.fixedSize=0),!this.averageSize&&this.sizeType==="DYNAMIC"&&this.sizes.size===this.options.keeps&&this.updateAverageSize())}},{key:"updateAverageSize",value:function(){var e=et()(this.sizes.values()).reduce(function(i,s){return i+s},0);this.averageSize=Math.round(e/this.sizes.size)}},{key:"addScrollEventListener",value:function(){this.options.scroller&&$().utils.on(this.options.scroller,"scroll",this.onScroll)}},{key:"removeScrollEventListener",value:function(){this.options.scroller&&$().utils.off(this.options.scroller,"scroll",this.onScroll)}},{key:"enableScroll",value:function(e){var i=this.options.scroller,s=e?$().utils.off:$().utils.on,c="onwheel"in document.createElement("div")?"wheel":"mousewheel";s(i,"DOMMouseScroll",this.preventDefault),s(i,c,this.preventDefault),s(i,"touchmove",this.preventDefault),s(i,"keydown",this.preventDefaultForKeyDown)}},{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"preventDefaultForKeyDown",value:function(e){var i={37:1,38:1,39:1,40:1};if(i[e.keyCode])return this.preventDefault(e),!1}},{key:"updateScrollElement",value:function(){var e=this.options.scroller;if(E(e)){var i=document.scrollingElement||document.documentElement||document.body;this.scrollEl=i}else this.scrollEl=e}},{key:"updateOnScrollFunction",value:function(){var e=this,i=this.options,s=i.debounceTime,c=i.throttleTime;s?this.onScroll=St(function(){return e.handleScroll()},s):c?this.onScroll=mt(function(){return e.handleScroll()},c):this.onScroll=function(){return e.handleScroll()}}},{key:"handleScroll",value:function(){var e=this.getOffset(),i=this.getClientSize(),s=this.getScrollSize();e===this.offset?this.direction="STATIONARY":this.direction=e<this.offset?"FRONT":"BEHIND",this.offset=e;var c=this.isFront()&&e<=0,p=this.isBehind()&&i+e+1>=s;this.options.onScroll({top:c,bottom:p,offset:e,direction:this.direction}),this.isFront()?this.handleScrollFront():this.isBehind()&&this.handleScrollBehind()}},{key:"handleScrollFront",value:function(){var e=this.getScrollItems();if(!(e>=this.range.start)){var i=Math.max(e-this.buffer,0);this.checkIfUpdate(i,this.getEndByStart(i))}}},{key:"handleScrollBehind",value:function(){var e=this.getScrollItems();e<this.range.start+this.buffer||this.checkIfUpdate(e,this.getEndByStart(e))}},{key:"getScrollItems",value:function(){var e=this.offset-this.getScrollStartOffset();if(e<=0)return 0;if(this.isFixed())return Math.floor(e/this.fixedSize);for(var i=0,s=this.options.uniqueKeys.length,c=0,p=0;i<=s;){if(c=i+Math.floor((s-i)/2),p=this.getOffsetByRange(0,c),p===e)return c;p<e?i=c+1:p>e&&(s=c-1)}return i>0?--i:0}},{key:"checkIfUpdate",value:function(e,i){var s=this.options.keeps,c=this.options.uniqueKeys.length;c<=s?e=0:i-e<s-1&&(e=i-s+1),this.range.start!==e&&this.handleUpdate(e)}},{key:"handleUpdate",value:function(e){var i=this.range.start!==e;this.range.start=e,this.range.end=this.getEndByStart(e),this.range.front=this.getFrontOffset(),this.range.behind=this.getBehindOffset(),this.options.onUpdate(N()({},this.range),i)}},{key:"getFrontOffset",value:function(){return this.isFixed()?this.fixedSize*this.range.start:this.getOffsetByRange(0,this.range.start)}},{key:"getBehindOffset",value:function(){var e=this.range.end,i=this.getLastIndex();return this.isFixed()?(i-e)*this.fixedSize:(i-e)*this.getItemSize()}},{key:"getOffsetByRange",value:function(e,i){if(e>=i)return 0;for(var s=0,c=e;c<i;c++){var p=this.sizes.get(this.options.uniqueKeys[c]);s=s+(typeof p=="number"?p:this.getItemSize())}return s}},{key:"getEndByStart",value:function(e){return Math.min(e+this.options.keeps-1,this.getLastIndex())}},{key:"getLastIndex",value:function(){var e=this.options,i=e.uniqueKeys,s=e.keeps;return i.length>0?i.length-1:s-1}},{key:"getItemSize",value:function(){return this.isFixed()?this.fixedSize:this.options.size||this.averageSize}},{key:"getScrollStartOffset",value:function(){var e=this.options,i=e.wrapper,s=e.scroller;if(s===i)return 0;var c=0;if(s&&i){var p=this.isHorizontal()?"left":"top",v=E(s)?$().utils.getRect(i):$().utils.getRect(i,!0,s);c=this.offset+v[p]}return c}}]),l}(),yt=["delay","group","handle","lockAxis","disabled","sortable","draggable","animation","autoScroll","ghostClass","ghostStyle","chosenClass","scrollSpeed","appendToBody","ghostContainer","scrollThreshold","delayOnTouchOnly","placeholderClass","dropOnAnimationEnd"],dt=["size","keeps","buffer","scroller","direction","debounceTime","throttleTime"],G=function(){function l(a,e){X()(this,l),K()(this,"el",void 0),K()(this,"options",void 0),K()(this,"removeDraggedEl",void 0),K()(this,"virtual",void 0),K()(this,"sortable",void 0),K()(this,"sortableState",void 0),this.el=a,this.options=e,this.initVirtual(),this.initSortable()}return gt()(l,[{key:"destroy",value:function(){this.virtual.removeScrollEventListener(),this.sortable.destroy()}},{key:"option",value:function(e,i){this.options[e]=i,(dt.includes(e)||e==="uniqueKeys")&&this.virtual.option(e,i),yt.includes(e)&&this.sortable.option(e,i)}},{key:"call",value:function(e){if(e in this.virtual){var i=this.virtual[e];if(typeof i=="function"){for(var s=arguments.length,c=new Array(s>1?s-1:0),p=1;p<s;p++)c[p-1]=arguments[p];return i.apply(this.virtual,c)}throw new Error("Property ".concat(String(e)," is not a function on Virtual."))}else throw new Error("Method ".concat(String(e)," does not exist on Virtual."))}},{key:"initVirtual",value:function(){var e=this,i=dt.reduce(function(s,c){return s[c]=e.options[c],s},{});this.virtual=new Ct(N()(N()({},i),{},{wrapper:this.options.wrapper,uniqueKeys:this.options.uniqueKeys,onScroll:function(c){return e.onScroll(c)},onUpdate:function(c,p){return e.onUpdate(c,p)}}))}},{key:"onScroll",value:function(e){this.dispatchEvent("onScroll",e)}},{key:"onUpdate",value:function(e,i){this.sortableState==="dragging"&&i&&(this.removeDraggedEl=!0),this.dispatchEvent("onUpdate",e,i)}},{key:"initSortable",value:function(){var e=this,i=yt.reduce(function(s,c){return s[c]=e.options[c],s},{});this.sortable=new($())(this.el,N()(N()({},i),{},{emptyInsertThreshold:0,swapOnDrop:!1,removeCloneOnDrop:function(c){return c.from===c.to},onDrag:function(c){return e.onDrag(c)},onDrop:function(c){return e.onDrop(c)}}))}},{key:"onDrag",value:function(e){this.sortableState="dragging";var i=e.node.getAttribute("data-key"),s=this.getIndex(i);this.sortable.option("store",{key:i,index:s}),this.dispatchEvent("onDrag",{key:i,index:s,event:e})}},{key:"onDrop",value:function(e){var i=$().get(e.from).option("store"),s=i.key,c=i.index,p={key:s,event:e,changed:!1,oldIndex:c,newIndex:c};if(!(e.from===e.to&&e.node===e.target)){var v=this.getEventProperties(p,e);Object.assign(p,v)}if(this.dispatchEvent("onDrop",p),e.from===this.el&&this.removeDraggedEl){var m;(m=$().dragged)===null||m===void 0||m.remove()}if(e.from!==e.to){var M;(M=$().clone)===null||M===void 0||M.remove()}this.sortableState="",this.removeDraggedEl=!1}},{key:"getEventProperties",value:function(e,i){var s=e.key,c=e.oldIndex,p=i.target.getAttribute("data-key"),v=-1,m=c;return i.from===i.to?(m=this.getIndex(s),v=this.getIndex(p),(m<v&&i.relative===-1||m>v&&i.relative===1)&&(v+=i.relative)):(i.from===this.el&&(m=this.getIndex(s)),i.to===this.el&&(m=-1,v=this.getIndex(p),i.relative===0?v=this.options.uniqueKeys.length:i.relative===1&&(v+=i.relative))),{changed:i.from!==i.to||v!==m,oldIndex:m,newIndex:v}}},{key:"getIndex",value:function(e){if(e==null)return-1;for(var i=this.options.uniqueKeys,s=0,c=i.length;s<c;s++)if(Q(i[s],e))return s;return-1}},{key:"dispatchEvent",value:function(e){if(e in this.options){var i=this.options[e];if(typeof i=="function"){for(var s=arguments.length,c=new Array(s>1?s-1:0),p=1;p<s;p++)c[p-1]=arguments[p];return i.apply(this,c)}}}}]),l}(),ht=D(52677),q=D.n(ht);function Ot(l){var a=l.dataKey,e=l.horizontal,i=l.dragging,s=l.children,c=l.onSizeChange,p=b.useRef(null);b.useLayoutEffect(function(){var m;if((typeof ResizeObserver=="undefined"?"undefined":q()(ResizeObserver))!==void 0){var M;m=new ResizeObserver(function(){var F=e?"offsetWidth":"offsetHeight",U=p.current[F];c(a,U)}),p.current&&((M=m)===null||M===void 0||M.observe(p.current))}return function(){m&&(m.disconnect(),m=null)}},[p]);var v=b.useMemo(function(){var m=s.props.style||{},M=Q(a,i);return N()(N()({},m),{},{display:M?"none":""})},[i]);return b.cloneElement(s,{"data-key":a,role:"item",ref:p,style:v,className:s.props.className})}var Dt=b.memo(Ot),bt=D(85893);function nt(l){var a=l.list,e=l.start,i=l.end,s=l.dataKey,c=l.horizontal,p=l.dragging,v=l.children,m=l.onSizeChange;return b.useMemo(function(){return a.slice(e,i+1).map(function(M,F){var U=e+F,j=st(M,s);return(0,bt.jsx)(Dt,{dataKey:j,dragging:p,horizontal:c,onSizeChange:m,children:typeof v=="function"?v(M,U,j):v},j)})},[a,e,i,s,c,p,v])}var P=nt;function w(l,a){b.useEffect(a,Object.values(l))}var T=w,ot;function L(l,a){var e=l.dataKey,i=e===void 0?"":e,s=l.dataSource,c=s===void 0?[]:s,p=l.tableMode,v=p===void 0?!1:p,m=l.wrapTag,M=m===void 0?"div":m,F=l.rootTag,U=F===void 0?"div":F,j=l.style,it=j===void 0?{}:j,ft=l.className,Mt=ft===void 0?"":ft,R=l.wrapStyle,t=R===void 0?{}:R,n=l.wrapClass,o=n===void 0?"":n,r=l.size,u=r===void 0?void 0:r,d=l.keeps,f=d===void 0?30:d,h=l.buffer,S=h===void 0?void 0:h,I=l.scroller,x=I===void 0?void 0:I,O=l.direction,C=O===void 0?"vertical":O,W=l.debounceTime,Z=W===void 0?0:W,H=l.throttleTime,rt=H===void 0?0:H,lt=l.delay,ae=lt===void 0?0:lt,$t=l.group,se=$t===void 0?"":$t,Ft=l.handle,ce=Ft===void 0?"":Ft,Ht=l.lockAxis,ue=Ht===void 0?void 0:Ht,Lt=l.disabled,de=Lt===void 0?!1:Lt,Pt=l.sortable,Ut=Pt===void 0?!0:Pt,Wt=l.draggable,he=Wt===void 0?'[role="item"]':Wt,Yt=l.animation,fe=Yt===void 0?150:Yt,Xt=l.autoScroll,ve=Xt===void 0?!0:Xt,Vt=l.scrollSpeed,pe=Vt===void 0?{x:10,y:10}:Vt,_t=l.ghostClass,ge=_t===void 0?"":_t,jt=l.ghostStyle,me=jt===void 0?void 0:jt,Gt=l.chosenClass,Se=Gt===void 0?"":Gt,qt=l.placeholderClass,ye=qt===void 0?"":qt,Jt=l.appendToBody,be=Jt===void 0?!1:Jt,Qt=l.scrollThreshold,we=Qt===void 0?55:Qt,Zt=l.delayOnTouchOnly,Te=Zt===void 0?!1:Zt,te=l.dropOnAnimationEnd,xe=te===void 0?!0:te,Ee=b.useState({start:0,end:f-1,front:0,behind:0}),ee=_()(Ee,2),at=ee[0],ze=ee[1],kt=b.useRef(""),Bt=b.useRef(),Nt=b.useRef(),Ie=function(g){return B.current.call("getSize",g)},Ce=function(){return B.current.call("getOffset")},Oe=function(){return B.current.call("getClientSize")},De=function(){return B.current.call("getScrollSize")},ne=function(g){B.current.call("scrollToOffset",g)},Me=function(g,k){B.current.call("scrollToIndex",g,k)},ke=function(g,k){var A=Rt.current.indexOf(g);A>-1&&B.current.call("scrollToIndex",A,k)},Re=function(){ne(0)},Be=function(){B.current.call("scrollToBottom")};b.useImperativeHandle(a,function(){return{getSize:Ie,getOffset:Ce,getClientSize:Oe,getScrollSize:De,scrollToTop:Re,scrollToKey:ke,scrollToIndex:Me,scrollToOffset:ne,scrollToBottom:Be}});var vt=b.useRef([]),Rt=b.useRef([]),oe=b.useRef(0),wt=b.useRef(0);b.useEffect(function(){if(vt.current=c,Ne(),Ae(oe.current,c.length),wt.current&&l.keepOffset){var z=c.length-wt.current;if(z>0){var g;(g=B.current)===null||g===void 0||g.call("scrollToIndex",z)}wt.current=0}oe.current=c.length},[c]),b.useEffect(function(){return Ke(),function(){B.current.destroy()}},[]);var Ne=function(){var g;Rt.current=vt.current.map(function(k){return st(k,i)}),(g=B.current)===null||g===void 0||g.option("uniqueKeys",Rt.current)},Ae=function(g,k){var A,Y;if(g!==k){var V=N()({},at);g>f&&k>g&&V.end===g-1&&(A=B.current)!==null&&A!==void 0&&A.call("isReachedBottom")&&V.start++,(Y=B.current)===null||Y===void 0||Y.call("updateRange",V)}},Tt=function(g){for(var k=l[g],A=arguments.length,Y=new Array(A>1?A-1:0),V=1;V<A;V++)Y[V-1]=arguments[V];k&&k.apply(null,Y)},B=b.useRef(),At={size:u,keeps:f,buffer:S,scroller:x,direction:C,debounceTime:Z,throttleTime:rt,delay:ae,group:se,handle:ce,lockAxis:ue,disabled:de,sortable:Ut,draggable:he,animation:fe,autoScroll:ve,ghostClass:ge,ghostStyle:me,chosenClass:Se,scrollSpeed:pe,appendToBody:be,scrollThreshold:we,delayOnTouchOnly:Te,placeholderClass:ye,dropOnAnimationEnd:xe},Ke=function(){B.current=new G(Bt.current,N()(N()({},At),{},{wrapper:Nt.current,scroller:x||Bt.current,uniqueKeys:Rt.current,ghostContainer:Nt.current,onDrag:Ue,onDrop:We,onScroll:He,onUpdate:Le}))};T(At,function(){B.current&&Object.keys(At).forEach(function(z){l[z]!==void 0&&B.current.option(z,l[z])})});var $e=St(function(){wt.current=vt.current.length,Tt("onTop")},50),Fe=St(function(){Tt("onBottom")},50),He=function(g){wt.current=0,g.top?$e():g.bottom&&Fe()},Le=function(g,k){ze(g),k&&Tt("onRangeChange",g)},Pe=function(g,k){if(!(Q(g,kt.current)||!B.current)){var A=B.current.virtual.sizes.size;B.current.call("updateItemSize",g,k),A===f-1&&vt.current.length>f&&B.current.call("updateRange",at)}},Ue=function(g){var k=g.key,A=g.index,Y=vt.current[A];if(kt.current=k,ot=Y,!Ut){var V,tt;(V=B.current)===null||V===void 0||V.call("enableScroll",!1),(tt=B.current)===null||tt===void 0||tt.option("autoScroll",!1)}Tt("onDrag",N()(N()({},g),{},{item:Y}))},We=function(g){var k=ot,A=g.oldIndex,Y=g.newIndex,V=et()(vt.current),tt=et()(vt.current);A===-1?tt.splice(Y,0,k):Y===-1?tt.splice(A,1):(tt.splice(A,1),tt.splice(Y,0,k)),B.current.call("enableScroll",!0),B.current.option("autoScroll",l.autoScroll),kt.current="",Tt("onDrop",N()(N()({},g),{},{item:k,list:tt,oldList:V}))},ie=b.useMemo(function(){var z=at.front,g=at.behind,k=C==="horizontal",A=k?"auto hidden":"hidden auto",Y=k?"0px ".concat(g,"px 0px ").concat(z,"px"):"".concat(z,"px 0px ").concat(g,"px"),V=N()(N()({},it),{},{overflow:v||x?"":A}),tt=N()(N()({},t),{},{padding:v?"":Y});return{rootElStyle:V,wrapElStyle:tt}},[at,it,t,x,v,C]),Ye=ie.rootElStyle,Xe=ie.wrapElStyle,re=b.useMemo(function(){var z=v?"table":M,g=v?"tbody":M;return{rootElTag:z,wrapElTag:g}},[U,M,v]),Ve=re.rootElTag,_e=re.wrapElTag,je=P({list:c,start:at.start,end:at.end,dataKey:i,children:l.children,dragging:kt.current,horizontal:C==="horizontal",onSizeChange:Pe}),le=function(g,k){var A=C==="vertical"?"height":"width",Y=K()({padding:0,border:0},A,"".concat(g,"px"));return(0,bt.jsx)("tr",{children:(0,bt.jsx)("td",{style:Y})},k)};return b.createElement(Ve,{ref:Bt,style:Ye,className:Mt},[l.header,b.createElement(_e,{ref:Nt,style:Xe,className:o},[v&&le(at.front,"front")].concat(et()(je),[v&&le(at.behind,"behind")])),l.footer])}var y=b.forwardRef(L)},26867:function(Kt){(function(J,D){Kt.exports=D()})(this,function(){"use strict";function J(){return J=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)({}).hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},J.apply(null,arguments)}function D(t){return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},D(t)}var xt={capture:!1,passive:!1},K=/\s+/g;function ct(t){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(t)}var et=ct(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Et=ct(/Edge/i),N=ct(/safari/i)&&!ct(/chrome/i)&&!ct(/android/i),zt=function(){var t=!1;return document.addEventListener("checkIfSupportPassive",null,{get passive(){return t=!0,!0}}),t}();function _(t,n,o){window.addEventListener?t.addEventListener(n,o,!(!zt&&et)&&xt):window.attachEvent?t.attachEvent("on"+n,o):t["on"+n]=o}function b(t,n,o){window.removeEventListener?t.removeEventListener(n,o,!(!zt&&et)&&xt):window.detachEvent?t.detachEvent("on"+n,o):t["on"+n]=null}function pt(){return document.scrollingElement||document.documentElement}function X(t,n,o){if(t.getBoundingClientRect||t===window){var r,u,d,f,h,S,I;if(t!==window&&t.parentNode&&t!==pt()?(u=(r=t.getBoundingClientRect()).top,d=r.left,f=r.bottom,h=r.right,S=r.height,I=r.width):(u=0,d=0,f=window.innerHeight,h=window.innerWidth,S=window.innerHeight,I=window.innerWidth),n&&t!==window){o=o||t.parentNode;do if(o&&o.getBoundingClientRect){var x=o.getBoundingClientRect();u-=x.top+parseInt(E(o,"border-top-width")),d-=x.left+parseInt(E(o,"border-left-width")),f=u+r.height,h=d+r.width;break}while(o=o.parentNode)}return{top:u,left:d,bottom:f,right:h,width:I,height:S}}}function ut(t,n,o,r){if(t){o=o||document;do{if(n!=null&&(n[0]===">"?t.parentNode===o&&st(t,n):st(t,n))||r&&t===o)return t;if(t===o)break}while(t=t.parentNode);return null}}function gt(t,n){if(!t||!n)return!1;if(n.compareDocumentPosition)return!!(16&n.compareDocumentPosition(t));if(n.contains&&t.nodeType===1)return n.contains(t)&&n!==t;for(;t=t.parentNode;)if(t===n)return!0;return!1}function It(t,n){for(var o=t.lastElementChild;o&&(o===R.ghost||E(o,"display")==="none"||n&&!st(o,n));)o=o.previousElementSibling;return o||null}function $(t,n){if(!t||!t.parentNode)return-1;for(var o=0;t=t.previousElementSibling;)t===R.ghost||t.nodeName.toUpperCase()==="TEMPLATE"||E(t,"display")==="none"||n&&!st(t,n)||o++;return o}function mt(t,n,o,r){for(var u=0,d=0,f=t.children;u<f.length;){if(f[u]!==R.ghost&&E(f[u],"display")!=="none"&&ut(f[u],o,t,!1)&&(r||f[u]!==R.dragged)){if(d===n)return f[u];d++}u++}return null}function St(t,n){var o=E(t),r=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),u=mt(t,0,n),d=mt(t,1,n),f=u&&E(u),h=d&&E(d),S=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+X(u).width,I=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+X(d).width,x=Et||et?"cssFloat":"float";if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(u&&f.float&&f.float!=="none"){var O=f.float==="left"?"left":"right";return!d||h.clear!=="both"&&h.clear!==O?"horizontal":"vertical"}return u&&(f.display==="block"||f.display==="flex"||f.display==="table"||f.display==="grid"||S>=r&&o[x]==="none"||d&&o[x]==="none"&&S+I>r)?"vertical":"horizontal"}function Q(t,n,o){if(t&&n)if(t.classList)t.classList[o?"add":"remove"](n);else{var r=(" "+t.className+" ").replace(K," ").replace(" "+n+" "," ");t.className=(r+(o?" "+n:"")).replace(K," ")}}function st(t,n){if(n){if(n[0]===">"&&(n=n.substring(1)),t)try{if(t.matches)return t.matches(n);if(t.msMatchesSelector)return t.msMatchesSelector(n);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(n)}catch(o){return!1}return!1}}function E(t,n,o){var r=t&&t.style;if(r){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),n===void 0?o:o[n];n in r||n.indexOf("webkit")!==-1||(n="-webkit-"+n),r[n]=o+(typeof o=="string"?"":"px")}}function Ct(t,n){return Math.round(t.top)===Math.round(n.top)&&Math.round(t.left)===Math.round(n.left)&&Math.round(t.height)===Math.round(n.height)&&Math.round(t.width)===Math.round(n.width)}function yt(t,n){var o,r,u=(r=n,(o=t).compareDocumentPosition?o.compareDocumentPosition(r):o.contains?(o!=r&&o.contains(r)&&16)+(o!=r&&r.contains(o)&&8)+(o.sourceIndex>=0&&r.sourceIndex>=0?(o.sourceIndex<r.sourceIndex&&4)+(o.sourceIndex>r.sourceIndex&&2):1):0);return u===2?1:u===4?-1:0}function dt(t){t.preventDefault!==void 0&&t.cancelable&&t.preventDefault()}function G(t){var n=t.sortable,o=t.name,r=t.evt,u=n.options[o];if(typeof u=="function")return u(J({},r))}function ht(t){if(typeof t=="function"){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return t.apply(void 0,o)}return t}var q="Sortable"+Date.now();function Ot(t){this.options=t,this.scrollEl=null,this.autoScrollInterval=null}function Dt(t){this.options=t,this.animationStack=[],this.animationCallbackId=null}function bt(t,n){return Math.sqrt(Math.pow(t.left-n.left,2)+Math.pow(t.top-n.top,2))}Ot.prototype={nulling:function(){this.autoScrollInterval&&(clearInterval(this.autoScrollInterval),this.autoScrollInterval=null)},onStarted:function(){this.nulling(),this.autoScrollInterval=setInterval(this.autoScroll.bind(this))},onMove:function(t,n,o,r){var u=o?o[q].options:r;!o||u.autoScroll?(this.options=u,this.scrollEl=function(d,f){if(!d||!d.getBoundingClientRect)return pt();var h=d,S=!1;do if(h.clientWidth<h.scrollWidth||h.clientHeight<h.scrollHeight){var I=E(h);if(h.clientWidth<h.scrollWidth&&(I.overflowX=="auto"||I.overflowX=="scroll")||h.clientHeight<h.scrollHeight&&(I.overflowY=="auto"||I.overflowY=="scroll")){if(!h.getBoundingClientRect||h===document.body)return pt();if(S||f)return h;S=!0}}while(h=h.parentNode);return pt()}(t,!0),this.moveEvent=n):this.scrollEl=null},autoScroll:function(){var t=this.options,n=this.moveEvent,o=this.scrollEl,r=t.scrollThreshold,u=t.scrollSpeed;if(o&&n.clientX!==void 0&&n.clientY!==void 0){var d=X(o);if(d){var f=n.clientX,h=n.clientY,S=d.top,I=d.right,x=d.bottom,O=d.left,C=d.height,W=d.width;if(!(h<S||f>I||h>x||f<O)){var Z=o.scrollTop,H=o.scrollLeft,rt=o.scrollHeight,lt=o.scrollWidth;o.scrollLeft+=this.getScrollOffset(f,O,I,r,u.x,H,lt,W),o.scrollTop+=this.getScrollOffset(h,S,x,r,u.y,Z,rt,C)}}}},getScrollOffset:function(t,n,o,r,u,d,f,h){return d>0&&t>=n&&t<=n+r?Math.max(-1,(t-n)/r-1)*u:d+h<f&&t<=o&&t>=o-r?Math.min(1,(t-o)/r+1)*u:0}},Dt.prototype={collect:function(t){if(t){for(var n=X(t),o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,u=Math.min(n.right,o),d=Math.min(n.bottom,r),f=Array.prototype.slice.call(t.children),h=[],S=0,I=f.length;S<I;S++){var x=f[S];if(x!==R.ghost&&E(x,"display")!=="none"){var O=X(x);if(!(O.bottom<0||O.right<0)){if(h.length===0&&x.previousElementSibling){var C=x.previousElementSibling;do if(C&&C!==R.ghost&&E(C,"display")!=="none")break;while(C=C.previousElementSibling);C&&h.push({el:C,rect:X(C)})}if(O.top-O.height>d||O.left-O.width>u){h.push({el:x,rect:O});break}h.push({el:x,rect:O})}}}this.animationStack.push(h)}},animate:function(t){var n=this,o=this.animationStack.pop(),r=this.options.animation;if(!o||!r)return clearTimeout(this.animationCallbackId),void(typeof t=="function"&&t());var u=0;o.forEach(function(d){var f=0,h=d.el,S=X(h),I=d.rect,x=h.prevToRect,O=h.prevFromRect;if(h.animating&&O&&x&&Ct(I,S)){var C=function(W,Z){var H="";if(typeof W=="string")H=W;else do{var rt=E(W,"transform");rt&&rt!=="none"&&(H=rt+" "+H)}while(!Z&&(W=W.parentNode));var lt=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return lt&&new lt(H)}(h,!0);C&&(f=bt({top:S.top-C.f,left:S.left-C.e},S)/bt(O,x)*r)}Ct(I,S)||(h.prevFromRect=I,h.prevToRect=S,f||(f=r),n.execute(h,I,S,f)),f&&(u=Math.max(u,f))}),clearTimeout(this.animationCallbackId),u?this.animationCallbackId=setTimeout(function(){typeof t=="function"&&t()},u):typeof t=="function"&&t()},execute:function(t,n,o,r){var u=this.options.easing||"",d=n.left-o.left,f=n.top-o.top;E(t,"transition",""),E(t,"transform","translate3d(".concat(d,"px, ").concat(f,"px, 0)")),this.repaintDummy=function(h){return h.offsetWidth}(t),E(t,"transition","transform ".concat(r,"ms ").concat(u)),E(t,"transform","translate3d(0px, 0px, 0px)"),typeof t.animating=="number"&&clearTimeout(t.animating),t.animating=setTimeout(function(){E(t,"transition",""),E(t,"transform",""),t.prevFromRect=null,t.prevToRect=null,t.animating=null},r)}};var nt,P,w,T,ot,L,y,l,a,e,i,s,c,p,v,m,M,F,U,j,it,ft=[];function Mt(t){var n,o,r,u={},d=t.group;d&&D(d)==="object"||(d={name:d,pull:!0,put:!0,revertDrag:!0}),u.name=d.name,u.pull=(n=d.pull)===null||n===void 0||n,u.put=(o=d.put)===null||o===void 0||o,u.revertDrag=(r=d.revertDrag)===null||r===void 0||r,t.group=u}function R(t,n){if(!t||!t.nodeType||t.nodeType!==1)throw"Sortable-dnd: `el` must be an HTMLElement, not ".concat({}.toString.call(t));t[q]=this,this.el=t,this.options=n=J({},n);var o={store:null,group:"",handle:null,draggable:">*",sortable:!0,disabled:!1,customGhost:null,lockAxis:"",direction:"",animation:150,easing:"",chosenClass:"",placeholderClass:"",ghostClass:"",ghostStyle:{},ghostContainer:null,appendToBody:!1,autoScroll:!0,scrollThreshold:55,scrollSpeed:{x:10,y:10},delay:0,delayOnTouchOnly:!1,swapOnDrop:!0,removeCloneOnDrop:!0,dropOnAnimationEnd:!1,supportTouch:"ontouchstart"in window,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,emptyInsertThreshold:-1};for(var r in o)!(r in n)&&(n[r]=o[r]);for(var u in Mt(n),this)u.charAt(0)==="_"&&typeof this[u]=="function"&&(this[u]=this[u].bind(this));_(t,n.supportTouch?"touchstart":"mousedown",this._onDrag),this.autoScroller=new Ot(n),this.animator=new Dt(n),ft.push(t)}return R.prototype={constructor:R,_onDrag:function(t){var n=this,o=this.el,r=this.options,u=r.handle,d=t.touches&&t.touches[0],f=(d||t).target,h=o.ownerDocument;if(!w&&!r.disabled&&r.group.pull&&!(/mousedown|pointerdown/.test(t.type)&&t.button!==0||N&&f&&f.tagName.toUpperCase()==="SELECT")){var S=ut(f,r.draggable,o);S&&!S.animating&&(v={event:t,clientX:(d||t).clientX,clientY:(d||t).clientY},w=S,_(F=d?w:document,"mouseup",this._onDrop),_(F,"touchend",this._onDrop),_(F,"touchcancel",this._onDrop),typeof u=="function"&&!u(t)||typeof u=="string"&&!ut(f,u,w)||(!r.delay||r.delayOnTouchOnly&&!d||Et||et?this._onStart(d,t):(_(h,"touchmove",this._delayedMoveHandler),_(h,"mousemove",this._delayedMoveHandler),_(h,"mouseup",this._cancelStart),_(h,"touchend",this._cancelStart),_(h,"touchcancel",this._cancelStart),this._dragStartTimer=setTimeout(function(){return n._onStart(d,t)},r.delay))))}},_delayedMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-v.clientX),Math.abs(n.clientY-v.clientY))>=Math.floor(this.options.touchStartThreshold/(window.devicePixelRatio||1))&&this._cancelStart()},_cancelStart:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),b(t,"touchmove",this._delayedMoveHandler),b(t,"mousemove",this._delayedMoveHandler),b(t,"mouseup",this._cancelStart),b(t,"touchend",this._cancelStart),b(t,"touchcancel",this._cancelStart)},_onStart:function(t,n){dt(n);var o=this.el,r=this.options,u=$(w);s=u,c=u,p=u,nt=o,P=o,L=o,a=w,e=w.parentNode,i=r.group.pull,j=w,U={to:o,target:w,newIndex:u,relative:0},y=w.cloneNode(!0),R.dragged=w,R.clone=y,R.active=this,G({sortable:this,name:"onChoose",evt:this._getEventProperties(n)}),Q(w,r.chosenClass,!0),_(F,t?"touchmove":"mousemove",this._nearestSortable);try{document.selection?setTimeout(function(){return document.selection.empty()},0):window.getSelection().removeAllRanges()}catch(d){}_(document,"selectstart",dt),N&&E(document.body,"user-select","none")},_onStarted:function(){var t=this.options;this.animator.collect(e),this._appendGhost(),Q(y,t.chosenClass,!0),Q(y,t.placeholderClass,!0),w.parentNode.insertBefore(y,w),E(w,"display","none"),G({sortable:this,name:"onDrag",evt:this._getEventProperties(v.event)}),this.animator.animate(),this.autoScroller.onStarted()},_appendGhost:function(){if(!l){var t=this.options,n=t.appendToBody?document.body:ht(t.ghostContainer,this)||this.el,o=ht(t.customGhost,y)||y;Q(l=o.cloneNode(!0),t.ghostClass,!0);var r=X(w),u=J({position:"fixed",top:r.top,left:r.left,width:r.width,height:r.height,margin:0,zIndex:1e5,opacity:"0.8",overflow:"hidden",boxSizing:"border-box",transform:"",transition:"",pointerEvents:"none"},t.ghostStyle);for(var d in u)E(l,d,u[d]);R.ghost=l,n.appendChild(l);var f=(v.clientX-r.left)/parseInt(l.style.width)*100,h=(v.clientY-r.top)/parseInt(l.style.height)*100;E(l,"transform-origin","".concat(f,"% ").concat(h,"%")),E(l,"will-change","transform")}},_nearestSortable:function(t){dt(t);var n=t.touches&&t.touches[0]||t;if(w&&function(C){var W=m||v;return!(C.clientX!==void 0&&C.clientY!==void 0&&Math.abs(C.clientX-W.clientX)<=0&&Math.abs(C.clientY-W.clientY)<=0)}(n)){!m&&this._onStarted();var o=this.options.lockAxis,r=o==="x"?v.clientX:n.clientX,u=o==="y"?v.clientY:n.clientY,d=document.elementFromPoint(r,u),f=r-v.clientX,h=u-v.clientY;m={event:t,clientX:r,clientY:u},E(l,"transform","translate3d(".concat(f,"px, ").concat(h,"px, 0)"));var S,I,x,O=(S=r,I=u,ft.reduce(function(C,W){var Z=W[q].options.emptyInsertThreshold;if(Z!=null){var H=X(W),rt=S>=H.left-Z&&S<=H.right+Z,lt=I>=H.top-Z&&I<=H.bottom+Z;return rt&&lt&&(!x||x&&H.left>=x.left&&H.right<=x.right&&H.top>=x.top&&H.bottom<=x.bottom)&&(C=W,x=H),C}},null));O&&O[q]._onMove(t,d),this.autoScroller.onMove(d,m,O,this.options)}},_allowPut:function(){var t=this.options.group,n=L[q].options.group;return this.el===L||!!t.put&&(t.put.join&&t.put.indexOf(n.name)>-1||n.name&&t.name&&n.name===t.name)},_getDirection:function(){var t=this.options.draggable,n=this.options.direction;return n?ht(n,m.event,y,this):St(e,t)},_allowSwap:function(){var t=X(T),n=this._getDirection()==="vertical",o=n?"top":"left",r=n?"bottom":"right",u=T[n?"offsetHeight":"offsetWidth"],d=n?m.clientY:m.clientX,f=d>=t[o]&&d<t[r]-u/2?-1:1,h=mt(e,0,this.options.draggable),S=It(e),I=X(h),x=X(S);if(T===e||gt(e,T))return y===h&&d<I[o]?(ot=T,!0):y===S&&d>x[r]&&(ot=T.nextSibling,!0);var O=yt(y,T);return ot=O<0?T.nextSibling:T,M!==T?(it=f,!0):it!==f&&(it=f,f<0?O>0:O<0)},_onMove:function(t,n){var o=this.el,r=this.options;if(!r.disabled&&this._allowPut()){if(T=ut(n,r.draggable,o),G({sortable:this,name:"onMove",evt:this._getEventProperties(t,{target:T})}),r.sortable||o!==L)return o===P||n!==o&&It(o)?void(T&&!T.animating&&!gt(T,y)&&this._allowSwap()&&(T!==y&&ot!==y&&(o!==P?this._onInsert(t):T!==w&&this._onChange(t)),M=T)):(T=M=null,void this._onInsert(t));P!==L&&(T=M=w,it=0,this._onInsert(t))}},_onInsert:function(t){var n=this.el,o=T||y,r=i==="clone"&&n!==L&&P===L,u=i==="clone"&&n===L&&P!==L,d=gt(T,document),f=T===w&&!d,h=P[q],S=L[q];nt=n,s=$(y),a=o,e=d?T.parentNode:n,h.animator.collect(y.parentNode),this.animator.collect(e),r&&(U.target=j,U.newIndex=s,U.relative=j===w?0:yt(y,j),E(w,"display",""),S.options.group.revertDrag||y.parentNode.insertBefore(w,y)),u&&(s=$(w),E(w,"display","none")),E(y,"display",f?"none":""),T&&d?e.insertBefore(y,it<0?T:T.nextSibling):e.appendChild(y),c=f?p:$(y),r&&S.options.group.revertDrag&&(U.target=w,U.newIndex=p,U.relative=0,G({sortable:S,name:"onChange",evt:this._getEventProperties(t,{to:L,target:w,newIndex:p,revertDrag:!0})})),r||G({sortable:h,name:"onRemove",evt:this._getEventProperties(t,{newIndex:-1})}),u&&o!==w&&(j=o,G({sortable:this,name:"onChange",evt:this._getEventProperties(t,{from:L,backToOrigin:!0})})),u||G({sortable:this,name:"onAdd",evt:this._getEventProperties(t,{oldIndex:-1})}),h.animator.animate(),this.animator.animate(),P=n},_onChange:function(t){var n=this.el;this.animator.collect(e),s=$(y),e=T.parentNode,a=T,n===L&&(j=T),e.insertBefore(y,ot),c=$(y),G({sortable:this,name:"onChange",evt:this._getEventProperties(t)}),this.animator.animate(),P=n},_onDrop:function(t){var n=this,o=this.options;if(this._cancelStart(),b(F,"touchmove",this._nearestSortable),b(F,"mousemove",this._nearestSortable),b(F,"mouseup",this._onDrop),b(F,"touchend",this._onDrop),b(F,"touchcancel",this._onDrop),b(document,"selectstart",dt),N&&E(document.body,"user-select",""),l&&l.parentNode&&l.parentNode.removeChild(l),L)if(P=L,s=p,a===y&&(a=w),Q(w,o.chosenClass,!1),G({sortable:this,name:"onUnchoose",evt:this._getEventProperties(t)}),m){this.animator.collect(e),Q(y,o.chosenClass,!1),Q(y,o.placeholderClass,!1);var r=this._getEventProperties(t);!o.dropOnAnimationEnd&&this._onEnd(r),this.animator.animate(function(){o.dropOnAnimationEnd&&n._onEnd(r)})}else this._nulling();else this._nulling()},_onEnd:function(t){var n=this.options,o=i==="clone",r=P===nt;o&&!r||!ht(n.swapOnDrop,t)||e.insertBefore(w,y),o&&!r||!ht(n.removeCloneOnDrop,t)||y&&y.parentNode&&y.parentNode.removeChild(y),E(w,"display",""),P!==nt&&G({sortable:P[q],name:"onDrop",evt:J({},t,o?U:{newIndex:-1})}),G({sortable:nt[q],name:"onDrop",evt:J({},t,r?{}:{oldIndex:-1})}),this._nulling()},_getEventProperties:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o={};return o.event=t,o.to=nt,o.from=P,o.node=w,o.clone=y,o.target=a,o.oldIndex=s,o.newIndex=c,o.pullMode=i,J(o,n),o.relative=a===w?0:yt(y,a),o},_nulling:function(){nt=P=w=T=ot=L=y=l=a=e=i=s=c=p=v=m=M=F=U=j=it=R.clone=R.ghost=R.active=R.dragged=null,this.autoScroller.nulling()},destroy:function(){this._cancelStart(),this._nulling(),b(this.el,"touchstart",this._onDrag),b(this.el,"mousedown",this._onDrag);var t=ft.indexOf(this.el);t>-1&&ft.splice(t,1),this.el[q]=this.animator=this.autoScroller=null},option:function(t,n){if(n===void 0)return this.options[t];this.options[t]=n,this.animator.options[t]=n,this.autoScroller.options[t]=n,t==="group"&&Mt(this.options)}},R.utils={on:_,off:b,css:E,index:$,matches:st,closest:ut,getRect:X,toggleClass:Q,detectDirection:St},R.get=function(t){return t[q]},R.create=function(t,n){return new R(t,n)},R})}}]);
